import{_ as N}from"./loader.81f62f7b.js";import{p as V}from"./puzzles.fc2b5e47.js";import{p as h}from"./problems.45b2c969.js";import{_ as v,a as w,o as l,c as o,d as m,Z as g,aL as y,S as u,t as b,i as c,ac as f,e as i,p as S,f as P,b as p,r as x,g as q,w as B,bu as C,a7 as O,u as J}from"./index.e70b3d69.js";const T={setup(){return{toast:w()}},props:{modelValue:{type:Array,default:()=>[]},problem:{type:Number,required:!0}},data(){return{puzzleList:V,puzzles:null}},created(){this.getData()},methods:{async getPuzzles(s){let a=await fetch(`https://sitcon.opass.app/event/puzzle?token=${s}`);return a.ok?(a=await a.json(),a.deliverers=a.deliverers.sort((e,t)=>t.timestamp-e.timestamp),a):null},selectPuzzle(s){let a=h[this.problem-1],e=a.required;if(e.includes(s)){let t=JSON.parse(JSON.stringify(this.modelValue));t.push(s),t=[...new Set(t)],this.$emit("update:modelValue",t),localStorage[`problem-${this.problem}`]=JSON.stringify(t),e.length===t.length&&(this.toast.success(`\u606D\u559C\u4F60\u5B8C\u6210${a.title}\uFF01`),this.$router.push("/problem/"))}else this.toast.error("\u9019\u500B\u788E\u7247\u4F3C\u4E4E\u62FC\u4E0D\u4E0A\u9019\u500B\u984C\u76EE")},async getData(){let s=[],a=localStorage.getItem("token");if(a){let d=await this.getPuzzles(a);d?s=d.puzzles:(d=[],this.toast.error("\u7121\u6CD5\u53D6\u5F97\u788E\u7247\u3002"))}let e=localStorage.getItem("partnerToken");if(e){let d=await this.getPuzzles(e);d?s=[...s,...d.puzzles]:this.toast.error("\u7121\u6CD5\u53D6\u5F97\u5925\u4F34\u7684\u788E\u7247\uFF0C\u8ACB\u91CD\u65B0\u52A0\u5165\u5925\u4F34\u3002")}this.puzzles=[...new Set(s)];let t=localStorage[`problem-${this.problem}`];t&&(t=JSON.parse(t),t=t.filter(d=>this.puzzles.includes(d)),this.$emit("update:modelValue",t),localStorage[`problem-${this.problem}`]=JSON.stringify(t))}}},L={class:"puzzle-selector"},j={key:0,class:"card"},D={key:1,class:"card puzzle-cards"},A=["onClick"];function F(s,a,e,t,d,z){const n=N;return l(),o("div",L,[d.puzzles?d.puzzles.length?(l(),o("div",D,[(l(!0),o(g,null,y(d.puzzles,r=>(l(),o("div",{class:u(["puzzle-card",{selected:e.modelValue.includes(r)}]),key:r,onClick:k=>z.selectPuzzle(r)},b(d.puzzleList[r]),11,A))),128))])):c("",!0):(l(),o("div",j,[m(n)]))])}const R=v(T,[["render",F]]);const E={props:{selectedPuzzles:{type:Array,default:[]},problem:{type:Number,default:0}}},$=s=>(S("data-v-4d7dd1b3"),s=s(),P(),s),H={class:"card"},U=f(`def main(foo):
    <span class="puzzle-a" data-v-4d7dd1b3>if</span> <span class="puzzle-b" data-v-4d7dd1b3>foo &gt; 4</span><span class="puzzle-a" data-v-4d7dd1b3>:</span>
        <span class="puzzle-c" data-v-4d7dd1b3>output = foo * 2</span>
    <span class="puzzle-a" data-v-4d7dd1b3>else:</span>
        <span class="puzzle-d" data-v-4d7dd1b3>output = foo + 1</span>
    <span class="puzzle-e" data-v-4d7dd1b3>print(output)</span>`,13),Z=[U],G=f(`def main(foo):
    <span class="puzzle-f" data-v-4d7dd1b3>temp =</span> <span class="puzzle-g" data-v-4d7dd1b3>&quot;&quot;.join(</span><span class="puzzle-h" data-v-4d7dd1b3>reversed(foo)</span><span class="puzzle-g" data-v-4d7dd1b3>)</span>
    <span class="puzzle-a" data-v-4d7dd1b3>if</span> <span class="puzzle-i" data-v-4d7dd1b3>foo == temp</span><span class="puzzle-a" data-v-4d7dd1b3>:</span>
        <span class="puzzle-j" data-v-4d7dd1b3>print(&quot;True&quot;)</span>
    <span class="puzzle-a" data-v-4d7dd1b3>else:</span>
        <span class="puzzle-k" data-v-4d7dd1b3>print(&quot;False&quot;)</span> `,18),K=[G],M=f(`def main(foo):
    <span class="puzzle-l" data-v-4d7dd1b3>i = 1</span>
    <span class="puzzle-m" data-v-4d7dd1b3>temp = 4</span>
    <span class="puzzle-n" data-v-4d7dd1b3>while</span> <span class="puzzle-o" data-v-4d7dd1b3>i != foo</span><span class="puzzle-n" data-v-4d7dd1b3>:</span>
        <span class="puzzle-p" data-v-4d7dd1b3>if</span> <span class="puzzle-i" data-v-4d7dd1b3>foo == temp</span><span class="puzzle-p" data-v-4d7dd1b3>:</span>
            <span class="puzzle-r" data-v-4d7dd1b3>print(i)</span>
        <span class="puzzle-s" data-v-4d7dd1b3>temp = temp * 4</span>
        <span class="puzzle-t" data-v-4d7dd1b3>i = i + 1</span>`,20),Q=[M],W=i(`def main(foo):
    `),X=$(()=>p("span",{class:"puzzle-u"},"foo.sort()",-1)),Y=i(`
    `),ee=$(()=>p("span",{class:"puzzle-v"},"print(foo)",-1)),se=[W,X,Y,ee],te=f(`def main(foo):
    <span class="puzzle-w" data-v-4d7dd1b3>output = 0</span>
    <span class="puzzle-x" data-v-4d7dd1b3>foo = 118</span>
    <span class="puzzle-y" data-v-4d7dd1b3>for i in</span> <span class="puzzle-z" data-v-4d7dd1b3>range(1, foo)</span><span class="puzzle-y" data-v-4d7dd1b3>:</span>
        <span class="puzzle-p" data-v-4d7dd1b3>if</span> <span class="puzzle-aa" data-v-4d7dd1b3>i % 3 == 0 or i % 5 == 0</span><span class="puzzle-p" data-v-4d7dd1b3>:</span>
            <span class="puzzle-ab" data-v-4d7dd1b3>output = output + i</span>
    <span class="puzzle-e" data-v-4d7dd1b3>print(output)</span> `,19),ae=[te];function de(s,a,e,t,d,z){return l(),o("div",H,[e.problem==1?(l(),o("pre",{key:0,class:u(["code-block",e.selectedPuzzles.map(n=>`selected-${n}`)])},Z,2)):c("",!0),e.problem==2?(l(),o("pre",{key:1,class:u(["code-block",e.selectedPuzzles.map(n=>`selected-${n}`)])},K,2)):c("",!0),e.problem==3?(l(),o("pre",{key:2,class:u(["code-block",e.selectedPuzzles.map(n=>`selected-${n}`)])},Q,2)):c("",!0),e.problem==4?(l(),o("pre",{key:3,class:u(["code-block",e.selectedPuzzles.map(n=>`selected-${n}`)])},se,2)):c("",!0),e.problem==5?(l(),o("pre",{key:4,class:u(["code-block",e.selectedPuzzles.map(n=>`selected-${n}`)])},ae,2)):c("",!0)])}const le=v(E,[["render",de],["__scopeId","data-v-4d7dd1b3"]]);const oe={props:{title:{type:String,required:!0},hideBack:{type:Boolean,default:!1},to:{type:String,default:"/"}}},ne=s=>(S("data-v-0f619676"),s=s(),P(),s),pe={class:"nav-bar"},ce=ne(()=>p("div",{class:"icon"}," \u25C0\uFE0F ",-1)),re=i(" \u8FD4\u56DE "),ue={key:1},ie={class:"title"};function ze(s,a,e,t,d,z){const n=x("router-link");return l(),o("div",pe,[e.hideBack?c("",!0):(l(),q(n,{key:0,class:"back",to:e.to},{default:B(()=>[ce,re]),_:1},8,["to"])),e.hideBack?(l(),o("div",ue)):c("",!0),p("div",ie,b(e.title),1)])}const _e=v(oe,[["render",ze],["__scopeId","data-v-0f619676"]]),me={setup(){const s=C();let a=O(()=>parseInt(s.params.id));return J({title:h[a.value-1].title}),{problemId:a}},data(){return{selectedPuzzles:[],problems:h}},methods:{}},be=p("div",{class:"card"},[p("div",{class:"card-title"}," \u5982\u4F55\u89E3\u984C\uFF1F "),p("div",{class:"card-description"},[i(" \u8ACB\u9EDE\u64CA\u4F4D\u65BC\u4E0B\u65B9\u788E\u7247\u5340\u57DF\u4E2D\u7684\u788E\u7247\uFF0C\u7576\u9EDE\u64CA\u7B26\u5408\u7684\u788E\u7247\u5F8C\uFF0C\u7A0B\u5F0F\u78BC\u5340\u57DF\u5C07\u6703\u81EA\u52D5\u986F\u793A\u8A72\u788E\u7247\u3002"),p("br"),i("\u4F60\u53EF\u4EE5\u96A8\u6642\u9000\u51FA\u984C\u76EE\u9801\u9762\uFF0C\u9032\u5EA6\u6703\u96A8\u6642\u5132\u5B58\u5728\u4F60\u7684\u88DD\u7F6E\u4E0A\uFF0C\u4E0D\u5FC5\u64D4\u5FC3\u9032\u5EA6\u907A\u5931\u3002 ")])],-1),ve={class:"problem-card card"},fe={class:"problem-card-content"},he=p("div",{class:"problem-card-content-title"},[p("div",{class:"problem-card-input"},"Input"),p("div",{class:"problem-card-output"},"Output")],-1),ke={class:"problem-card-input"},ge={class:"problem-card-output"};function ye(s,a,e,t,d,z){const n=_e,r=le,k=R;return l(),o("div",null,[m(n,{title:d.problems[t.problemId-1].title,to:"/problem"},null,8,["title"]),be,p("div",ve,[p("div",fe,[he,(l(!0),o(g,null,y(d.problems[t.problemId-1].data,(_,I)=>(l(),o("div",{class:"problem-card-content-data",key:I},[p("div",ke,b(_.input),1),p("div",ge,b(_.output),1)]))),128))])]),m(r,{problem:t.problemId,selectedPuzzles:d.selectedPuzzles},null,8,["problem","selectedPuzzles"]),m(k,{problem:t.problemId,modelValue:d.selectedPuzzles,"onUpdate:modelValue":a[0]||(a[0]=_=>d.selectedPuzzles=_)},null,8,["problem","modelValue"])])}const Ne=v(me,[["render",ye]]);export{Ne as default};
